<div class="header">
    <h1>Nouvelle recette</h1>
</div>
<div style="margin: 20px 0 10px 5px;">
    <p-button styleClass="p-button-secondary" routerLink="/liste" label="RETOUR"></p-button>
</div>
<form [formGroup]="recetteForm">
    <div class="form-group">
      <span>Nom de la recette</span>
      <input pInputText type="text" class="p-inputtext-sm" id="menu" formControlName="menu">
    </div>
    <div class="form-group">
        <mat-form-field>
            <span>Filtres</span>
            <mat-select formControlName="filtres" multiple>
              <mat-option *ngFor="let filtre of filtreList" [value]="filtre">{{filtre}}</mat-option>
            </mat-select>
        </mat-form-field>
    </div>
    <div class="form-group">
        <span>Difficulté de la recette</span>
        <span class="indication">(Si 1 = facile et 5 = très difficile)</span>
        <p-inputNumber inputId="integeronly" id="etoile" [min]="1" [max]="5" formControlName="etoile"></p-inputNumber>
      </div>
    <div class="form-group">
        <span>Temps de préparation</span>
        <p-inputNumber inputId="integeronly" id="temps" formControlName="temps"></p-inputNumber>
    </div>
    <div class="form-group">
        <span>Portions</span>
        <p-inputNumber inputId="integeronly" id="portions" [min]="1" [max]="10" formControlName="portions"></p-inputNumber>
    </div>
    <div class="picture">
        <input type="file" accept="image/*" #imageInput (change)="onFileAdded($event)" formControlName="picture">
        <a mat-raised-button color="primary" (click)="imageInput.click()">Ajout image</a>
        <img [src]="imagePreview" *ngIf="imagePreview" style="max-height: 100px;display:block;margin-top:10px">
    </div>
    <div style="margin-top: 20px;margin-bottom: 15px;">
        <p-button styleClass="p-button-success" (click)="addRecette(recetteForm.value)" [disabled]="recetteForm.invalid" label="Enregistrer"></p-button>
    </div>
</form>